version = '2.31'

buildscript {
  repositories {
    maven {
      url "https://repo1.maven.org/maven2"
    }
  }

  dependencies {
    classpath group: 'org.eclipse.jetty', name: 'jetty-server', version: '+'
    classpath group: 'org.eclipse.jetty', name: 'jetty-servlet', version: '+'
    classpath group: 'org.jboss.resteasy', name: 'resteasy-jaxrs', version: '+'  
  }
}

import org.eclipse.jetty.server.*;

Server server = new Server(8081)
server.setHandler([
  handle: {
    target, base_req, req, res ->
      res.setContentType("text/html; charset=utf-8")
      res.setStatus(200)
      res.getWriter().println("""\
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <h1>#YOLO</h1>
  </body>
</html>
"""
      )
      base_req.setHandled(true)
  }
] as handler.AbstractHandler)

server.start()
server.join()
